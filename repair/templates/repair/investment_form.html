{% extends 'base_no_sidebar.html' %}

{% load widget_tweaks %}

{% block content %}

      <div class="row justify-content-center">
        <div class="col-md-6">
          <div class="card mx-4">
            <div class="card-body p-4">
              <h1 class="pb-4 text-center">Investment</h1>
            <form method="POST" enctype="multipart/form-data">
                    {% csrf_token %}
                <div class="input-group mb-3">
                      {% render_field investor_form.full_name class="form-control w-100" placeholder=investor_form.full_name.label %}
                        {% for error in investor_form.full_name.errors %}
                        <div class="text-danger">{{ error }}</div>
                      {% endfor %}
              </div>

                <div class="input-group mb-3">
                      {% render_field investor_form.address class="form-control w-100" placeholder=investor_form.address.label %}
                        {% for error in investor_form.address.errors %}
                        <div class="text-danger">{{ error }}</div>
                      {% endfor %}
              </div>

                <div class="input-group mb-3">
                      {% render_field investor_form.image %}
                        {% for error in investor_form.image.errors %}
                        <div class="text-danger">{{ error }}</div>
                      {% endfor %}
              </div>

                    <div class="input-group mb-3">
                      {% render_field investment_form.mobile_number class="form-control w-100" placeholder=investment_form.mobile_number.label %}
                        {% for error in investment_form.mobile_number.errors %}
                        <div class="text-danger">{{ error }}</div>
                      {% endfor %}
              </div>

                    <div class="input-group mb-3">
                      {% render_field payment_form.amount class="form-control w-100" placeholder=payment_form.amount.label %}
                      {% for error in payment_form.payment.errors %}
                        <div class="text-danger">{{ error }}</div>
                      {% endfor %}
              </div>
                <div class="input-group mb-3">
                      {% render_field payment_form.payment_method class="form-control w-100" placeholder=payment_form.payment_method.label %}
                      {% for error in payment_form.payment_method.errors %}
                        <div class="text-danger">{{ error }}</div>
                      {% endfor %}
              </div>
                <div class="input-group mb-3">
                      {% render_field payment_form.trans_id class="form-control w-100" placeholder=payment_form.trans_id.label %}
                      {% for error in payment_form.trans_id.errors %}
                        <div class="text-danger">{{ error }}</div>
                      {% endfor %}
              </div>
                <div class="input-group mb-3">
                      {% render_field investment_form.details class="form-control w-100" placeholder=investment_form.details.label rows="3" %}
                      {% for error in investment_form.details.errors %}
                        <div class="text-danger">{{ error }}</div>
                      {% endfor %}
              </div>
                    <button class="btn btn-block btn-success" type="submit">Submit</button>
            </form>
            </div>
          </div>
        </div>
      </div>
{% endblock %}


<script>
    {% block extra_js %}
        $('#id_trans_id').hide();
        $('#id_payment_method').change(function() {
            var method = $('#id_payment_method option:selected').attr('data-trans-id');
            if (method === 'True') {
                $('#id_trans_id').show();
            } else {
                $('#id_trans_id').hide();
            }
        });
    {% endblock %}
</script>

